<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙŠØ´</title>
<style>
  body { font-family: Arial, sans-serif; background: #f9f9f9; margin: 0; padding: 0; }
  .container { max-width: 400px; margin: 80px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  input { width: 100%; padding: 12px; margin: 10px 0; font-size: 16px; box-sizing: border-box; }
  button { width: 100%; padding: 12px; background: #ff4081; border: none; color: white; font-size: 18px; cursor: pointer; border-radius: 4px; }
  button:hover { background: #e91e63; }
  .error { color: red; margin-top: 10px; }
</style>
</head>
<body>
<div class="container">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
  <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
  <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
  <button id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
  <p id="errorMsg" class="error"></p>
</div>

<script>
  const validUsername = "user";
  const validPassword = "1234";

  const loginBtn = document.getElementById("loginBtn");
  const errorMsg = document.getElementById("errorMsg");

  loginBtn.addEventListener("click", () => {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    if(username === validUsername && password === validPassword){
      localStorage.setItem("loggedIn", "true");
      window.location.href = "app.html";
    } else {
      errorMsg.textContent = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
    }
  });

  // Ø¥Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ù‡ Ù…Ø³Ø¨Ù‚Ø§ØŒ Ù†ÙˆØ¬Ù‡Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø´Ø§Øª
  if(localStorage.getItem("loggedIn") === "true"){
    window.location.href = "app.html";
  }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙŠØ´ - Ø´Ø§Øª ÙˆÙ„Ø¹Ø¨Ø©</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #fff; display: flex; flex-direction: column; height: 100vh; }
  header { background: #ff4081; color: white; padding: 16px; text-align: center; font-size: 22px; }
  nav { display: flex; background: #f3f3f3; }
  nav button {
    flex: 1; padding: 14px; border: none; background: #f3f3f3; font-size: 18px; cursor: pointer; transition: background 0.3s;
  }
  nav button.active { background: #ff4081; color: white; }
  section { flex: 1; overflow-y: auto; padding: 16px; }
  #logoutBtn { position: fixed; top: 10px; left: 10px; background: #444; color: white; border: none; padding: 8px 12px; cursor: pointer; border-radius: 4px; }
</style>
</head>
<body>

<button id="logoutBtn">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
<header>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙŠØ´</header>
<nav>
  <button id="chatTab" class="active">Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</button>
  <button id="gameTab">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</button>
</nav>

<section>
  <div id="chatSection">
    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù‡Ù†Ø§ -->
  </div>
  <div id="gameSection" style="display:none;">
    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‡Ù†Ø§ -->
  </div>
</section>

<script src="chat.js"></script>
<script src="game.js"></script>
<script>
  const chatTab = document.getElementById("chatTab");
  const gameTab = document.getElementById("gameTab");
  const chatSection = document.getElementById("chatSection");
  const gameSection = document.getElementById("gameSection");
  const logoutBtn = document.getElementById("logoutBtn");

  chatTab.addEventListener("click", () => {
    chatTab.classList.add("active");
    gameTab.classList.remove("active");
    chatSection.style.display = "block";
    gameSection.style.display = "none";
  });

  gameTab.addEventListener("click", () => {
    gameTab.classList.add("active");
    chatTab.classList.remove("active");
    gameSection.style.display = "block";
    chatSection.style.display = "none";
  });

  logoutBtn.addEventListener("click", () => {
    localStorage.removeItem("loggedIn");
    window.location.href = "index.html";
  });
</script>

</body>
</html>
const chatSection = document.getElementById("chatSection");

chatSection.innerHTML = `
  <div style="display:flex; flex-direction: column; height: 100%;">
    <div id="messages" style="flex:1; overflow-y:auto; border: 1px solid #ddd; padding: 10px; border-radius: 6px; background:#fafafa;"></div>
    <div style="margin-top: 10px; display:flex; gap:10px;">
      <input type="text" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." style="flex:1; padding:8px; font-size:16px;"/>
      <input type="file" id="imageInput" accept="image/*" style="display:none;"/>
      <button id="sendBtn" style="padding: 8px 16px; background:#ff4081; color:white; border:none; border-radius:4px; cursor:pointer;">Ø¥Ø±Ø³Ø§Ù„</button>
      <button id="imageBtn" style="padding: 8px 12px; background:#2196f3; color:white; border:none; border-radius:4px; cursor:pointer;">ğŸ“·</button>
    </div>
  </div>
`;

const messagesDiv = document.getElementById("messages");
const messageInput = document.getElementById("messageInput");
const sendBtn = document.getElementById("sendBtn");
const imageBtn = document.getElementById("imageBtn");
const imageInput = document.getElementById("imageInput");

let messages = JSON.parse(localStorage.getItem("messages") || "[]");

function saveMessages(){
  localStorage.setItem("messages", JSON.stringify(messages));
}

function renderMessages(){
  messagesDiv.innerHTML = "";
  messages.forEach((msg, index) => {
    const div = document.createElement("div");
    div.style.borderBottom = "1px solid #eee";
    div.style.padding = "6px 4px";
    div.style.position = "relative";

    if(msg.type === "text"){
      div.textContent = msg.content;
    } else if(msg.type === "image"){
      const img = document.createElement("img");
      img.src = msg.content;
      img.style.maxWidth = "70%";
      img.style.borderRadius = "6px";
      div.appendChild(img);
    }

    // Ø²Ø± Ø§Ù„Ø­Ø°Ù
    const delBtn = document.createElement("button");
    delBtn.textContent = "Ø­Ø°Ù";
    delBtn.style.position = "absolute";
    delBtn.style.top = "4px";
    delBtn.style.left = "4px";
    delBtn.style.fontSize = "12px";
    delBtn.style.background = "#e91e63";
    delBtn.style.color = "white";
    delBtn.style.border = "none";
    delBtn.style.padding = "2px 6px";
    delBtn.style.borderRadius = "4px";
    delBtn.style.cursor = "pointer";
    delBtn.addEventListener("click", () => {
      messages.splice(index,1);
      saveMessages();
      renderMessages();
    });
    div.appendChild(delBtn);

    messagesDiv.appendChild(div);
  });

  messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

sendBtn.addEventListener("click", () => {
  const text = messageInput.value.trim();
  if(!text) return;
  messages.push({type:"text", content:text});
  saveMessages();
  renderMessages();
  messageInput.value = "";
});

imageBtn.addEventListener("click", () => {
  imageInput.click();
});

imageInput.addEventListener("change", () => {
  const file = imageInput.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    messages.push({type:"image", content: reader.result});
    saveMessages();
    renderMessages();
  };
  reader.readAsDataURL(file);
  imageInput.value = "";
});

renderMessages();
const gameSection = document.getElementById("gameSection");

const questions = [
  {q: "Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ØŸ", a: "Ø£Ø²Ø±Ù‚"},
  {q: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ù…ØµØ±ØŸ", a: "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©"},
  {q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ", a: "7"},
  {q: "Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ", a: "Ø§Ù„Ù…Ø´ØªØ±ÙŠ"},
  {q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", a: "Ø§Ù„ÙÙ‡Ø¯"}
];

let currentQuestionIndex = parseInt(localStorage.getItem("currentQuestionIndex") || "0");
let score = parseInt(localStorage.getItem("score") || "0");

function saveGameState(){
  localStorage.setItem("currentQuestionIndex", currentQuestionIndex);
  localStorage.setItem("score", score);
}

function renderGame(){
  gameSection.innerHTML = `
    <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex+1} Ù…Ù† ${questions.length}</h3>
    <p style="font-size:18px;">${questions[currentQuestionIndex].q}</p>
    <input type="text" id="answerInput" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§" style="width: 100%; padding: 8px; font-size:16px;"/>
    <button id="submitAnswerBtn" style="margin-top: 10px; padding: 10px 16px; background:#ff4081; color:white; border:none; border-radius:6px; cursor:pointer;">Ø£Ø±Ø³Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
    <p id="feedback" style="margin-top:10px; font-weight: bold;"></p>
    <p>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="scoreDisplay">${score}</span></p>
  `;

  const answerInput = document.getElementById("answerInput");
  const submitAnswerBtn = document.getElementById("submitAnswerBtn");
  const feedback = document.getElementById("feedback");
  const scoreDisplay = document.getElementById("scoreDisplay");

  submitAnswerBtn.addEventListener("click", () => {
    const userAnswer = answerInput.value.trim();
    if(!userAnswer){
      feedback.textContent = "ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø¥Ø¬Ø§Ø¨Ø©.";
      return;
    }

    if(userAnswer === questions[currentQuestionIndex].a){
      score++;
      feedback.textContent = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‰";
    } else {
      feedback.textContent = "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
    }
    scoreDisplay.textContent = score;
    saveGameState();

    currentQuestionIndex++;
    if(currentQuestionIndex >= questions.length){
      gameSection.innerHTML = `
        <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h2>
        <p>Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score}</p>
        <button id="restartBtn" style="padding: 12px 20px; background:#2196f3; color:white; border:none; border-radius:6px; cursor:pointer;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
      `;
      document.getElementById("restartBtn").addEventListener("click", () => {
        currentQuestionIndex = 0;
        score = 0;
        saveGameState();
        renderGame();
      });
    } else {
      answerInput.value = "";
      setTimeout(renderGame, 1500);
    }
  });
}

renderGame();
